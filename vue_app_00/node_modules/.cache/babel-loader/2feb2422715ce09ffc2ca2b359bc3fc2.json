{"remainingRequest":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\src\\components\\tpp\\common\\movieList\\movieList_oncom.vue?vue&type=script&lang=js","dependencies":[{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\src\\components\\tpp\\common\\movieList\\movieList_oncom.vue","mtime":1561896883467},{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport unmovie from \"./movieList_uncom.vue\";\nexport default {\n  data: function data() {\n    return {\n      tab: [\"t2-onmovie\", \"t2-unmovie\"],\n      myCol: 0,\n      active: 't2-onmovie',\n      listmovieY: 0,\n      t2Top: 0,\n      // 电影\n      count: 0,\n      movielist: [],\n      id: 0,\n      tran: false,\n      value: ''\n    };\n  },\n  mounted: function mounted() {\n    window.addEventListener(\"scroll\", this.listmovieYChange);\n    this.loadMovieList();\n  },\n  methods: {\n    nTran: function nTran() {\n      this.tran = true;\n    },\n    //加载电影列表\n    loadMovieList: function loadMovieList() {\n      var _this = this;\n\n      //  var url=\"http://api.douban.com/v2/movie/in_theaters?apikey=0df993c66c0c636e29ecbb5344252a4a&start=0&count=5\";\n      // var params={};\n      var url = \"../../../data.json\";\n      this.axios.get(url).then(function (result) {\n        _this.movielist = result.data.subjects;\n        _this.count = _this.movielist.length; // console.log(this.movielist);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    selMovie: function selMovie() {//条件查询电影\n\n      /*\r\n       let params={str:this.value}\r\n      this.axios.get(\"http://localhost:3000/user/selM\",{params}).then(result=>{\r\n          if(result.data.code==400){\r\n              this.$toast({\r\n                  message:`未找到与${this.value}相关电影`,\r\n                  duration: 3000\r\n              })\r\n          }else{\r\n              this.cinemaList=result.data.data;\r\n              console.log(result)\r\n          }\r\n      })*/\n    },\n    changeCol: function changeCol(i) {\n      this.myCol = i;\n      this.active = this.tab[i];\n    },\n    listmovieYChange: function listmovieYChange() {\n      //this.t2Top=this.$refs.t2fixed.getBoundingClientRect().top;//获取当前元素到屏幕顶端的距离\n      this.t2Top = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop; // console.log(this.t2Top)\n    },\n    getDetail: function getDetail(id) {\n      console.log(id);\n      this.$router.push(\"/detail/\".concat(id));\n    }\n  },\n  components: {\n    unmovie: unmovie\n  }\n};",{"version":3,"sources":["movieList_oncom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,OAAA,OAAA,MAAA,uBAAA;AACA,eAAA;AACA,MADA,kBACA;AAAA,WAAA;AACA,WAAA,CAAA,YAAA,EAAA,YAAA,CADA;AAEA,aAAA,CAFA;AAGA,cAAA,YAHA;AAIA,kBAAA,CAJA;AAKA,aAAA,CALA;AAMA;AACA,aAAA,CAPA;AAQA,iBAAA,EARA;AASA,UAAA,CATA;AAUA,YAAA,KAVA;AAWA,aAAA;AAXA,KAAA;AAYA,GAbA;AAcA,SAdA,qBAcA;AACA,WAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,gBAAA;AACA,SAAA,aAAA;AAEA,GAlBA;AAmBA,WAAA;AACA,SADA,mBACA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,KAHA;AAIA;AACA,iBALA,2BAKA;AAAA;;AACA;AACA;AACA,UAAA,MAAA,oBAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,cAAA,SAAA,GAAA,OAAA,IAAA,CAAA,QAAA;AACA,cAAA,KAAA,GAAA,MAAA,SAAA,CAAA,MAAA,CAFA,CAGA;AACA,OAJA,EAIA,KAJA,CAIA,eAAA;AAAA,gBAAA,GAAA,CAAA,GAAA;AAAA,OAJA;AAKA,KAdA;AAeA,YAfA,sBAeA,CACA;;AACA;;;;;;;;;;;;;AAaA,KA9BA;AA+BA,aA/BA,qBA+BA,CA/BA,EA+BA;AACA,WAAA,KAAA,GAAA,CAAA;AACA,WAAA,MAAA,GAAA,KAAA,GAAA,CAAA,CAAA,CAAA;AACA,KAlCA;AAmCA,oBAnCA,8BAmCA;AACA;AACA,WAAA,KAAA,GAAA,OAAA,WAAA,IAAA,SAAA,eAAA,CAAA,SAAA,IAAA,SAAA,IAAA,CAAA,SAAA,CAFA,CAGA;AACA,KAvCA;AAwCA,aAxCA,qBAwCA,EAxCA,EAwCA;AACA,cAAA,GAAA,CAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,mBAAA,EAAA;AACA;AA3CA,GAnBA;AAgEA,cAAA;AAAA;AAAA;AAhEA,CAAA","sourcesContent":["<template>\r\n    <div class=\"t2\" ref=\"t2fixed\">\r\n         <transition  name=\"selmovied\">\r\n             <div class=\"tran\">\r\n                <div class=\"selM\" v-if=\"tran\">\r\n                    <i class=\"iconfont icon-sousuo\" @click=\"selMovie\"></i>\r\n                    <input type=\"text\" placeholder=\"搜影片、影人、演出、咨询、...\" v-model=\"value\">\r\n                </div>\r\n            </div>\r\n        </transition>\r\n            <div class=\"t2top\">\r\n                <a class=\"t2left\" href=\"javascipt:;\">\r\n                    <span>武汉</span>\r\n                    <i class=\"iconfont icon-xiajiantou\"></i>\r\n                </a>\r\n                <div class=\"t2mid\">\r\n                    <span class=\"t2topactive\">电影</span>\r\n                    <span>影院</span>\r\n                </div>\r\n                <div class=\"t2right\">\r\n                    <a href=\"javascript:;\"><img src=\"../../../../assets/location.png\" alt=\"\"></a>\r\n                    <a href=\"javascript:;\"><img src=\"../../../../assets/fangdajing_1.png\" alt=\"\" @click=\"nTran\"></a>\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n            <div class=\"t2bot\" :class=\"{'t2bot-fixed':t2Top>43}\">\r\n                <div @click=\"changeCol(0)\" :class=\"{'sel':myCol==0}\">正在上映</div>\r\n                <div @click=\"changeCol(1)\" :class=\"{'sel':myCol==1}\">即将上映</div>\r\n            </div>\r\n            <div style=\"height:40px\" v-show=\"t2Top>43\"></div>\r\n                <mt-tab-container v-model=\"active\">\r\n                    <mt-tab-container-item id=\"t2-onmovie\">\r\n                        <div class=\"t2-onmovie-com\" v-for=\"(item,i) of movielist\" :key=\"i\">\r\n                            <div>\r\n                                <a href=\"javascript:;\" class=\"t2-onmovie-com-left\" @click=\"getDetail(item.id)\"><img :src=\"'/movied/'+item.id+'.jpg'\" alt=\"\"></a>\r\n                                <a href=\"javascript:;\" class=\"t2-onmovie-com-mid\">\r\n                                    <div @click=\"getDetail(item.id)\">\r\n                                        <p><span class=\"mtitle\">{{item.title}}</span><span class=\"screen\" :class=\"{'screen-2D':true,'screen-3D':false}\"><img src=\"screen.png\" alt=\"\"></span> </p>\r\n                                        <p class=\"score\">淘票票评分 <span class=\"myfont1\">{{item.rating.average}}</span></p>\r\n                                        <p class=\"direct\">导演：<span>{{item.directors[0].name}}</span></p>\r\n                                        <p class=\"star\">主演：<span v-for=\"(s,i) of item.casts\" :key=\"i\">{{s.name}} <span v-show=\"i<item.casts.length-1\"> / </span></span></p>\r\n                                        <p><span class=\"tohost\">今日最热</span><span class=\"tobast\">口碑最佳</span></p>\r\n                                   </div>\r\n                                   <div class=\"t2-onmovie-com-right\">\r\n                                    <a href=\"javascript:;\">购票</a>\r\n                                </div>\r\n                                </a>\r\n                                \r\n                            </div>\r\n                            <p class=\"t2-onmovie-com-bot\"><span class=\"myfont2\">经典</span><span>千与千寻的8个回忆</span></p>\r\n                        </div>\r\n                    </mt-tab-container-item>\r\n                    <mt-tab-container-item id=\"t2-unmovie\">\r\n                        <unmovie></unmovie>\r\n                    </mt-tab-container-item>\r\n                </mt-tab-container>\r\n       \r\n            </div>\r\n\r\n</template>\r\n<script>\r\nimport unmovie from \"./movieList_uncom.vue\";\r\nexport default {\r\n    data(){return{\r\n        tab:[\"t2-onmovie\",\"t2-unmovie\"],\r\n        myCol:0,\r\n        active:'t2-onmovie',\r\n        listmovieY:0,\r\n        t2Top:0,\r\n        // 电影\r\n        count:0,\r\n        movielist:[],\r\n        id:0,\r\n        tran:false,\r\n        value:''\r\n    }},\r\n     mounted(){\r\n        window.addEventListener(\"scroll\",this.listmovieYChange);\r\n        this.loadMovieList();\r\n\r\n    },\r\n    methods:{\r\n        nTran(){\r\n            this.tran=true\r\n        },\r\n        //加载电影列表\r\n        loadMovieList(){\r\n           //  var url=\"http://api.douban.com/v2/movie/in_theaters?apikey=0df993c66c0c636e29ecbb5344252a4a&start=0&count=5\";\r\n            // var params={};\r\n            var url=\"../../../data.json\";\r\n            this.axios.get(url).then(result=>{\r\n                this.movielist=result.data.subjects;\r\n                this.count=this.movielist.length;\r\n                // console.log(this.movielist);\r\n            }).catch(err=>{console.log(err)})\r\n        },\r\n        selMovie(){\r\n            //条件查询电影\r\n            /*\r\n             let params={str:this.value}\r\n            this.axios.get(\"http://localhost:3000/user/selM\",{params}).then(result=>{\r\n                if(result.data.code==400){\r\n                    this.$toast({\r\n                        message:`未找到与${this.value}相关电影`,\r\n                        duration: 3000\r\n                    })\r\n                }else{\r\n                    this.cinemaList=result.data.data;\r\n                    console.log(result)\r\n                }\r\n            })*/\r\n        },\r\n        changeCol(i){\r\n            this.myCol=i;\r\n            this.active=this.tab[i]\r\n        },\r\n        listmovieYChange(){\r\n            //this.t2Top=this.$refs.t2fixed.getBoundingClientRect().top;//获取当前元素到屏幕顶端的距离\r\n            this.t2Top=window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\r\n            // console.log(this.t2Top)\r\n        },\r\n        getDetail(id){\r\n            console.log(id)\r\n            this.$router.push(`/detail/${id}`)\r\n        }\r\n    },\r\n    components:{unmovie}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tran{\r\n    width:100%;\r\n    background:#fff;\r\n    padding:2px 16px 0;\r\n    position: fixed;\r\n    top:0;\r\n    z-index:555;\r\n}\r\n.selM{\r\n    width:100%;\r\n    padding: 0 10px;\r\n    border: 1px solid #eee;\r\n}\r\n.selM>i{font-size:20px;}\r\n.selM>input{width:90%;border:0;outline: 0;margin:0;padding: 0 10px;}\r\n.selmovied-enter{left:100%}\r\n.selmovied-enter-to{left:0}\r\n.selmovied-enter-active{transition: left 2s}    /**/\r\n.myfont1,.myfont2{color:#F6A553;font-size:16px;}\r\n.myfont1{font-weight: bold}\r\n.myfont2{\r\n   border-right: 1px solid #ddd;\r\n    padding: 0 10px;\r\n    }\r\n    .screen{\r\n        display: inline-block;\r\n        overflow: hidden;\r\n    }\r\n.screen-2D{\r\n    height: 14px;\r\n    width: 60px;  \r\n}\r\n.screen-3D{\r\n    height: 14px;\r\n    width:65px;\r\n}\r\n.screen>img{\r\n    width:100%;\r\n    height:auto;\r\n}\r\n.screen-3D>img{\r\n    margin-top:-14px;\r\n}\r\n.t2{background:#fff;}\r\n    .t2top{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        vertical-align:middle;\r\n        padding: 16px 16px 0;\r\n    }\r\n    .t2top a{color:#000}\r\n    .t2mid{\r\n        width:9rem;\r\n        border: 2px solid #FF627F;\r\n        border-radius: 4px;\r\n        display: flex;\r\n    }\r\n    .t2mid>span{\r\n        text-align: center;\r\n        width:50%;\r\n        display:block;\r\n        font-size:14px;\r\n        line-height: 23px;\r\n        padding: 0 0.4rem;\r\n        color:#FF627F;\r\n    }\r\n    .t2mid>.t2topactive{\r\n        background: #FF627F;\r\n        color:#fff;\r\n    }\r\n    .t2right>a{margin:0 2px;}\r\n    .t2bot{\r\n        display: flex;\r\n        justify-content: space-around;\r\n        vertical-align: middle;\r\n        padding-top: 10px;\r\n        color: #555;\r\n    }\r\n    .t2bot-fixed{\r\n        position: fixed;\r\n        top:0;\r\n        width:100%;\r\n        background:#fff;\r\n        border-bottom: 1px solid #ddd;\r\n        z-index: 999;\r\n        padding: 10px 0;\r\n    }\r\n    .t2bot>div.sel:after{\r\n        content: \"\";\r\n        display: block;\r\n        width:50%;\r\n        height: 4px;\r\n        background:#FF627F;\r\n        margin: 2px auto;\r\n        border-radius: 2px;\r\n    }\r\n    .t2-onmovie-com{\r\n        margin: 9px;\r\n        padding-top: 15px;\r\n        border-top:1px solid #ddd;\r\n        /* border-bottom: 1px solid #ddd; */\r\n        }\r\n    .t2-onmovie-com-left{\r\n        width:25%;\r\n        height:auto;\r\n        float: left;\r\n        margin-right: 7px;\r\n    }\r\n     .t2-onmovie-com-left>img{\r\n        width:100%;\r\n        height:auto;\r\n    }\r\n    .t2-onmovie-com-mid{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        padding: 0 6px 6px 6px;\r\n        border-bottom: 1px solid #ddd;\r\n    }\r\n    .t2-onmovie-com-mid>div:first-child{width:74%}\r\n    .t2-onmovie-com-mid p{margin:3px;color:#8f8f94;font-size:14px;}\r\n   .t2-onmovie-com-mid .mtitle{\r\n        font-size:20px;\r\n        color: #000;\r\n        margin-right: 4px;\r\n        }\r\n   .t2-onmovie-com-mid .score{\r\n        font-size:14px;\r\n        color:#000;\r\n    }\r\n    .tobast,.tohost{\r\n        padding: 2px;\r\n        margin: 0px 3px;\r\n        font-size: 10px;\r\n        border-radius: 5px;\r\n    }\r\n    .tohost{\r\n        border:1px solid #FF627F;\r\n        color:#FF627F;\r\n    }\r\n\r\n    .tobast{\r\n        border:1px solid #007ACC;\r\n        color:#007ACC;\r\n    }\r\n    .t2-onmovie-com-right{\r\n      \r\n        width:20%;\r\n        height:25px;\r\n        text-align: center;\r\n        line-height: 25px;\r\n        background-image: linear-gradient(to right, #ee91ab 0%, #FF556F 100%);\r\n        border-radius: 13px;\r\n\r\n        font-size:10px;\r\n        margin-top:-12%;\r\n        \r\n    }\r\n    .t2-onmovie-com-right>a{color:#fff;}\r\n    .t2-onmovie-com>div:after{\r\n        content: \"\";\r\n        display: block;\r\n        clear: both;\r\n    }\r\n    .t2-onmovie-com-bot{\r\n        padding-top: 10px;\r\n        margin: 0;\r\n        margin-left: 25%;\r\n\r\n    }\r\n</style>\r\n\r\n"],"sourceRoot":"src\\components\\tpp\\common\\movieList"}]}