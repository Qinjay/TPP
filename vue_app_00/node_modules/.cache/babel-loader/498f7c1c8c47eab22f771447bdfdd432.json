{"remainingRequest":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\src\\components\\tpp\\common\\cinema.vue?vue&type=script&lang=js","dependencies":[{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\src\\components\\tpp\\common\\cinema.vue","mtime":1561966662558},{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      cinemaList: [],\n      value: \"\",\n      count: 7,\n      start: 0,\n      btnText: \"点击加载更多\"\n    };\n  },\n  created: function created() {\n    this.loadMore();\n  },\n  methods: {\n    loadMore: function loadMore() {\n      var _this = this;\n\n      this.start++;\n      var params = {\n        start: this.start,\n        count: this.count\n      };\n      this.axios.get(\"http://localhost:3000/user/cinema\", {\n        params: params\n      }).then(function (result) {\n        var rows = _this.cinemaList.concat(result.data.data);\n\n        if (result.data.data) {\n          _this.cinemaList = rows;\n        } else {\n          _this.btnText = \"(╥╯﹏╰╥)ง没了~\";\n        }\n      });\n    },\n    selCinema: function selCinema() {\n      var _this2 = this;\n\n      var params = {\n        str: this.value\n      };\n      this.axios.get(\"http://localhost:3000/user/selC\", {\n        params: params\n      }).then(function (result) {\n        if (result.data.code == 400) {\n          _this2.$toast({\n            message: \"\\u672A\\u627E\\u5230\\u4E0E\".concat(_this2.value, \"\\u76F8\\u5173\\u5F71\\u9662\"),\n            duration: 3000\n          });\n        } else {\n          _this2.cinemaList = result.data.data;\n          console.log(result);\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["cinema.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,eAAA;AACA,MADA,kBACA;AAAA,WAAA;AACA,kBAAA,EADA;AAEA,aAAA,EAFA;AAGA,aAAA,CAHA;AAIA,aAAA,CAJA;AAKA,eAAA;AALA,KAAA;AAMA,GAPA;AAQA,SARA,qBAQA;AACA,SAAA,QAAA;AACA,GAVA;AAWA,WAAA;AACA,YADA,sBACA;AAAA;;AACA,WAAA,KAAA;AACA,UAAA,SAAA;AAAA,eAAA,KAAA,KAAA;AAAA,eAAA,KAAA;AAAA,OAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,mCAAA,EAAA;AAAA;AAAA,OAAA,EAAA,IAAA,CAAA,kBAAA;AACA,YAAA,OAAA,MAAA,UAAA,CAAA,MAAA,CAAA,OAAA,IAAA,CAAA,IAAA,CAAA;;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,EAAA;AACA,gBAAA,UAAA,GAAA,IAAA;AACA,SAFA,MAEA;AACA,gBAAA,OAAA,GAAA,aAAA;AACA;AACA,OAPA;AAQA,KAZA;AAaA,aAbA,uBAaA;AAAA;;AACA,UAAA,SAAA;AAAA,aAAA,KAAA;AAAA,OAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,iCAAA,EAAA;AAAA;AAAA,OAAA,EAAA,IAAA,CAAA,kBAAA;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,iBAAA,MAAA,CAAA;AACA,uDAAA,OAAA,KAAA,6BADA;AAEA,sBAAA;AAFA,WAAA;AAIA,SALA,MAKA;AACA,iBAAA,UAAA,GAAA,OAAA,IAAA,CAAA,IAAA;AACA,kBAAA,GAAA,CAAA,MAAA;AACA;AACA,OAVA;AAWA;AA1BA;AAXA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"top\">\r\n            <div class=\"topInout\">\r\n                <input type=\"text\" placeholder=\"搜索影院\" v-model=\"value\" > <i class=\"iconfont icon-sousuo\" @click=\"selCinema\"></i>\r\n            </div>\r\n        </div>\r\n        <div style=\"width:100%;height:67px\"></div>\r\n        <div>\r\n            <router-link  class=\"cinemaList\" v-for=\"(item,i) of cinemaList\" :key=\"i\" :to=\"`/ticket/${item.cid}`\" >\r\n                <div class=\"cinemaListLeft\">\r\n                    <p>\r\n                        <span class=\"cname\">{{item.cname.slice(0,11)}} <span v-show=\"item.cname.length>11\">...</span></span>\r\n                        <span class=\"stext\">好评度</span>\r\n                        <span class=\"mscore\">{{item.mscore}}%</span>\r\n                    </p>\r\n                    <p class=\"maddress\">{{item.address}}</p>\r\n                    <p class=\"mlabel\">\r\n                        <span v-show=\"item.isCard==1\">影城卡</span>    \r\n                        <span v-show=\"item.isRefund==1\">退票</span>\r\n                        <span v-show=\"item.isTicket==1\">改签</span>\r\n                        <span v-show=\"item.isIMAX==1\">IMAX厅</span>\r\n                        <span v-show=\"item.isMPOS==1\">刷卡</span>\r\n                        <span v-show=\"item.isFood==1\">观影小食</span>\r\n                    </p> <!--服务-->\r\n                    <p v-show=\"item.msell\"><span class=\"msell\">惠</span> <span>{{item.msell}}</span></p>\r\n                </div>\r\n                <div class=\"cinemaListRight\">\r\n                    <p class=\"mdis\">\r\n                        <span>{{item.mdis}}</span>\r\n                        <span>元</span>起\r\n                    </p>\r\n                </div>\r\n            </router-link> \r\n            <!-- <div style=\"height:27px\"></div> -->\r\n        </div>\r\n        <div @click=\"loadMore\" class=\"loadbtn\">{{btnText}}</div>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){return{\r\n        cinemaList:[],\r\n        value:\"\",\r\n        count:7,\r\n        start:0,\r\n        btnText:\"点击加载更多\"\r\n    }},\r\n    created(){\r\n         this.loadMore()\r\n    },\r\n    methods:{\r\n        loadMore(){\r\n            this.start++;\r\n            let params={start:this.start,count:this.count}\r\n            this.axios.get(\"http://localhost:3000/user/cinema\",{params}).then(result=>{             \r\n               var rows =this.cinemaList.concat(result.data.data)\r\n               if(result.data.data){\r\n                    this.cinemaList=rows;\r\n                    }else{\r\n                        this.btnText=\"(╥╯﹏╰╥)ง没了~\"\r\n                    }\r\n        })\r\n        },\r\n        selCinema(){\r\n            let params={str:this.value}\r\n            this.axios.get(\"http://localhost:3000/user/selC\",{params}).then(result=>{\r\n                if(result.data.code==400){\r\n                    this.$toast({\r\n                        message:`未找到与${this.value}相关影院`,\r\n                        duration: 3000\r\n                    })\r\n                }else{\r\n                    this.cinemaList=result.data.data;\r\n                    console.log(result)\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.loadbtn{\r\n    width:100%;\r\n    color: #8f8f94;\r\n    text-align: center;\r\n    padding:10px;\r\n}\r\n    .top{\r\n        position: fixed;\r\n        top:0;\r\n        left:0;\r\n        width:100%;\r\n        padding: 12px;\r\n        background:#fff;\r\n    }\r\n    .topInout{\r\n        border:1px solid #ddd;\r\n        border-radius: 5px;\r\n        width:100%;\r\n        }\r\n    .topInout>input{\r\n        width:90%;\r\n        outline: 0;\r\n        border: 0;\r\n        margin:0;\r\n        font-size:15px;\r\n    }\r\n    .icon-sousuo{font-size: 20px;}\r\n    .cinemaList{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        color:#8f8f94;\r\n        padding: 12px;\r\n        background: #fff;\r\n        border-bottom: 1px solid #ddd;\r\n    }\r\n    .cinemaListLeft{\r\n        width:85%;\r\n    }\r\n    .cinemaListLeft>p{margin:5px 0;font-size:10px}\r\n    .cinemaListRight{width:18%}\r\n    .cname{    \r\n        font-size: 17px;\r\n        color: #000;\r\n    }\r\n    .stext,.mscore{\r\n        font-size: 10px;\r\n        border: 1px solid #F6A553;\r\n        padding: 0 4px;\r\n    }\r\n    .stext{\r\n        color:#F6A553;\r\n        margin-left:5px;\r\n        border-top-left-radius:3px;\r\n        border-bottom-left-radius: 3px;\r\n        }\r\n    .mscore{\r\n        background:#F6A553;\r\n        color:#fff;\r\n         border-top-right-radius:3px;\r\n        border-bottom-right-radius: 3px;\r\n    }\r\n    .maddress{\r\n        margin:0\r\n    }\r\n    .mlabel>span{\r\n        color: #007aff;\r\n        border: 0.5px solid #a2c8f3;\r\n        border-radius: 3px;\r\n        padding: 2px 4px;\r\n        margin: 0 3px;\r\n    }\r\n    .msell{\r\n        background:#F6A553;\r\n        color:#fff;\r\n        font-size:10px;\r\n        padding:3px 5px;\r\n        margin-right: 5px;\r\n    }\r\n    .mdis{\r\n        font-size: 10px;\r\n    }\r\n    .mdis>span{\r\n        color: #FF556F;\r\n    }\r\n    .mdis>span:first-child{\r\n        font-size:19px;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src\\components\\tpp\\common"}]}