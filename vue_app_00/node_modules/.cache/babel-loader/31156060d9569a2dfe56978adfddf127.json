{"remainingRequest":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\src\\components\\tpp\\common\\details.vue?vue&type=script&lang=js","dependencies":[{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\src\\components\\tpp\\common\\details.vue","mtime":1561888576336},{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport detailMintro from \"./details/detail_mintro.vue\";\nimport detailCasts from \"./details/detail_casts.vue\";\nimport detailTrailer from \"./details/detail_trailer.vue\";\nimport detailPhotos from \"./details/detail_photos.vue\";\nimport detailReviews from \"./details/detail_reviews.vue\";\nexport default {\n  data: function data() {\n    return {\n      top: 0,\n      sel: [{\n        isSel: true\n      }, {\n        isSel: false\n      }, {\n        isSel: false\n      }, {\n        isSel: false\n      }],\n      isTop: false,\n      isPlay: false,\n      scrolltop: 0,\n      opacity: 0,\n      rows: [],\n      score: 0,\n      grade: 0,\n      mintro: \"\",\n      mcasts: [],\n      //主演\n      trailer: '',\n      //预告片\n      photos: [],\n      //剧照\n      reviews: [],\n      //热评\n      country: \"\",\n      //国家\n      duration: \"\"\n    };\n  },\n  props: [\"mid\"],\n  created: function created() {\n    var _this = this;\n\n    console.log(\"接收的到商品id为:\" + this.mid); // var url=\"http://api.douban.com/v2/movie/subject/1291561?apikey=0df993c66c0c636e29ecbb5344252a4a\"\n\n    var url = \"../../1291561.json\";\n    this.axios.get(url).then(function (result) {\n      _this.rows = result.data;\n      _this.score = _this.rows.rating.average;\n      _this.grade = Math.round(_this.score / 2);\n      _this.mintro = _this.rows.summary.slice(0, -3);\n      _this.mcasts = _this.rows.casts;\n      _this.trailer = _this.rows.trailer_urls;\n      _this.photos = _this.rows.photos;\n      _this.reviews = _this.rows.popular_reviews;\n      _this.country = _this.rows.countries[0];\n      _this.duration = _this.rows.durations[0]; //  console.log(this.rows.popular_reviews);\n    });\n  },\n  mounted: function mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n  methods: {\n    show: function show(i) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.sel[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var key = _step.value;\n          key.isSel = false;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this.sel[i].isSel = true;\n    },\n    Vplay: function Vplay() {\n      this.isPlay = this.isPlay == true ? false : true;\n    },\n    handleScroll: function handleScroll() {\n      this.scrolltop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n      this.opacity = this.scrolltop / 45; // console.log(this.scrolltop)\n\n      if (this.scrolltop >= 380) {\n        this.isTop = true;\n      } else {\n        this.isTop = false;\n      }\n    },\n    goIndex: function goIndex() {\n      this.$router.go(-1);\n    },\n    Dscroll3: function Dscroll3() {\n      window.scrollTo(0, 1200);\n    },\n    Dscroll2: function Dscroll2() {\n      window.scrollTo(0, 750);\n    }\n  },\n  components: {\n    detailMintro: detailMintro,\n    detailCasts: detailCasts,\n    detailTrailer: detailTrailer,\n    detailPhotos: detailPhotos,\n    detailReviews: detailReviews\n  }\n};",{"version":3,"sources":["details.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"detailVideo\" @click=\"Vplay()\">\r\n            <video src=\"x.mp4\" :controls=isPlay></video>\r\n            <img src=\"bofang.png\" alt=\"\" v-show=\"!isPlay\">\r\n        </div>\r\n        <div class=\"movieDetail\">\r\n            <div class=\"movieInfo\">\r\n                <div class=\"movieImg\">\r\n                    <img src=\"movied/1291561.jpg\" alt=\"\">\r\n                    <span>IMAX3D</span>\r\n                </div>\r\n                <div class=\"movieCom\">\r\n                    <p class=\"mtitle\">{{rows.title}}</p>\r\n                    <p>{{rows.original_title}}</p>\r\n                    <p class=\"minfo\" >\r\n                        <span v-for=\"(item,i) of rows.genres\" :key=\"i\">{{item}}/</span>\r\n                        <span >{{country}}/</span>\r\n                        <span>{{duration}}</span> </p>\r\n                    <p class=\"onmovie\">{{rows.mainland_pubdate}} 在中国大陆上映</p>\r\n                    <div class=\"mwant\">\r\n                        <p><span class=\"myfont\">3.9万</span>人想看</p>\r\n                        <p><span class=\"myfont\">65%</span>大V推荐</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"mscore\">\r\n            <span class=\"score\">{{score}}</span><span v-for=\"(n,i) of grade\" :key=\"i\"><img src=\"xingxing.png\" alt=\"\"></span><span v-for=\"(n,i) of 5-grade\" :key=\"i\"><img src=\"xingxing01.png\" alt=\"\"></span>\r\n            </div>\r\n        </div>\r\n        <div class=\"movieDetails\">\r\n            <div style=\"width:100%;height:48px;\" v-show=\"isTop\"></div>\r\n            <ul :class=\"{nevUl:isTop}\">\r\n                <li :class=\"{sel:sel[0].isSel}\" ><a href=\"javascript:;\">简介</a> </li>\r\n                <li :class=\"{sel:sel[1].isSel}\" @click=\"Dscroll2\"><a href=\"javascript:;\">视频</a> </li>\r\n                <li :class=\"{sel:sel[2].isSel}\" @click=\"Dscroll3\"><a href=\"javascript:;\">讨论</a></li>\r\n                <li :class=\"{sel:sel[3].isSel}\" ><a href=\"javascript:;\">更多</a></li>\r\n            </ul>\r\n            <detail-mintro :Mdatail=mintro></detail-mintro> \r\n            <detail-casts :Mcasts=mcasts></detail-casts><!--演职人员-->\r\n            <detail-trailer :Traile=trailer></detail-trailer><!--视频-->\r\n            <detail-photos :Photos=photos></detail-photos><!--剧照-->\r\n            <detail-reviews :Reviews=reviews ref=\"reviews\" ></detail-reviews>\r\n        </div>\r\n        <router-link to=\"/ticket/1\" class=\"buyTicket\">选座购票</router-link>\r\n        <div class=\"goback\" :style=\"{'opacity':opacity}\">\r\n            <i class=\"iconfont icon-fanhui\" @click=\"goIndex\"></i>\r\n            <div class=\"topmid\">\r\n                <p>{{rows.title}}</p>\r\n                <p>{{rows.original_title}}</p>\r\n            </div>\r\n            <i class=\"iconfont icon-fenxiang\"></i>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport detailMintro from \"./details/detail_mintro.vue\"\r\nimport detailCasts from \"./details/detail_casts.vue\"\r\nimport detailTrailer from \"./details/detail_trailer.vue\"\r\nimport detailPhotos from \"./details/detail_photos.vue\"\r\nimport detailReviews from \"./details/detail_reviews.vue\"\r\n        \r\n\r\nexport default {\r\n    data(){return{\r\n        top:0,\r\n        sel:[\r\n            {isSel:true},\r\n            {isSel:false},\r\n            {isSel:false},\r\n            {isSel:false},\r\n            ],\r\n        isTop:false,\r\n        isPlay:false,\r\n        scrolltop:0,\r\n        opacity:0,\r\n        rows:[],\r\n        score:0,\r\n        grade:0,\r\n        mintro:\"\",\r\n        mcasts:[], //主演\r\n        trailer:'',  //预告片\r\n        photos:[],//剧照\r\n        reviews:[],//热评\r\n        country:\"\",//国家\r\n        duration:\"\"\r\n    }},\r\n    props:[\"mid\"],\r\n    created(){\r\n        console.log(\"接收的到商品id为:\"+this.mid)\r\n       // var url=\"http://api.douban.com/v2/movie/subject/1291561?apikey=0df993c66c0c636e29ecbb5344252a4a\"\r\n        var url=\"../../1291561.json\"\r\n        this.axios.get(url).then((result)=>{\r\n            this.rows=result.data\r\n            this.score=this.rows.rating.average\r\n            this.grade=Math.round(( this.score)/2);\r\n            this.mintro=this.rows.summary.slice(0,-3);\r\n            this.mcasts=this.rows.casts;\r\n            this.trailer=this.rows.trailer_urls;\r\n            this.photos=this.rows.photos;\r\n            this.reviews=this.rows.popular_reviews;\r\n            this.country=this.rows.countries[0];\r\n            this.duration=this.rows.durations[0]\r\n            //  console.log(this.rows.popular_reviews);\r\n        })\r\n    },\r\n    mounted(){\r\n        window.addEventListener(\"scroll\",this.handleScroll)\r\n    },\r\n\r\n    methods:{\r\n        show(i){\r\n            for(var key of this.sel){\r\n                key.isSel=false;\r\n            }\r\n            this.sel[i].isSel=true;\r\n        },\r\n        Vplay(){\r\n            this.isPlay= this.isPlay== true ? false : true;\r\n        },\r\n        handleScroll(){\r\n            this.scrolltop=window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\r\n            this.opacity=this.scrolltop/45;\r\n            // console.log(this.scrolltop)\r\n            if(this.scrolltop>=380){\r\n                this.isTop=true\r\n            }else{\r\n                this.isTop=false;\r\n            }\r\n        },\r\n        goIndex(){\r\n            this.$router.go(-1)\r\n        },\r\n        Dscroll3(){\r\n            window.scrollTo(0,1200);\r\n        },\r\n        Dscroll2(){\r\n            window.scrollTo(0,750);\r\n        }\r\n    },\r\n    components:{detailMintro,detailCasts,detailTrailer,detailPhotos,detailReviews}\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.movieDetails .nevUl{\r\n    position: fixed;\r\n    top: 45px;\r\n    left: 0;\r\n    background: #fff;\r\n    width: 100%;\r\n    padding: 16px 28px;\r\n    }\r\n    .myfont{\r\n        font-size: 18px;\r\n        color: #000;\r\n        margin: 13px 0;\r\n    }\r\n\r\n    \r\n    .detailVideo{\r\n        width:100%;\r\n        position: relative;\r\n    }\r\n    .detailVideo>video{\r\n        width:100%\r\n    }\r\n    .detailVideo>img{\r\n        position: absolute;\r\n        top: 38%;\r\n        left: 44%;\r\n        width: 12%;\r\n    }\r\n    .movieDetail{ padding: 13px;background: #fff;}\r\n    .movieInfo{\r\n        display: flex;\r\n        \r\n    }\r\n    .movieImg{\r\n        width:20%;\r\n        position: relative;\r\n        /* flex: 1; */\r\n        border-radius: 3px;\r\n        overflow: hidden;\r\n    }\r\n    .movieImg>img{\r\n        width:100%;\r\n    }\r\n    .movieImg>span{\r\n        position: absolute;\r\n        top:1%;\r\n        left:1%;\r\n        background:#ddd;\r\n        font-size:10px;\r\n        border-radius: 4px;\r\n        line-height: 12px;\r\n        padding: 3px;\r\n    }\r\n    .movieCom{padding-left: 10px;}\r\n    .movieCom>p{\r\n        margin:5px 0;\r\n        font-size:14px;\r\n    }\r\n    .movieCom .mtitle{\r\n        font-size:18px;\r\n        color:#000;\r\n        font-weight: 600;\r\n    }\r\n    .myfont{\r\n        font-size:16px;\r\n        color:#000;\r\n    }\r\n    .mwant{\r\n        display: flex;\r\n       \r\n    }\r\n    .mwant>p{ margin-right: 15px;}\r\n    .score{\r\n        font-size: 30px;\r\n        font-weight: 600;\r\n        margin-right: 10px;\r\n    }\r\n    .mscore{\r\n        margin: 10px 10px 0;\r\n    }\r\n    .movieDetails{\r\n        padding: 13px;\r\n        background:#fff;\r\n    }\r\n    .movieDetails>ul{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        padding: 15px;\r\n        border-bottom: 1px solid #eee;\r\n    }\r\n    li.sel:after{\r\n        content: \"\";\r\n        display: block;\r\n        width: 55%;\r\n        height:2px;\r\n        background:#000;\r\n        margin:0 auto;\r\n    }\r\n    .movieDetails>ul>li>a{color: #8f8f94;}\r\n    .buyTicket{\r\n        position: fixed;\r\n        bottom: 0;\r\n        width:100%;\r\n        height:50px;\r\n        color:#fff;\r\n        font-size:20px;\r\n        line-height:50px;\r\n        text-align: center;\r\n        background-image: linear-gradient(to right, #f28391 0%, #fa4f69 100%); \r\n    }\r\n    .goback{\r\n        position:fixed;\r\n        top:0;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        background: #fff;\r\n        color:#000;\r\n        height:45px;\r\n        width:100%;\r\n        opacity: 0;\r\n        padding: 0 10px\r\n    }\r\n    .topmid{\r\n        padding: 0px 10px;\r\n    }\r\n    .topmid>p{\r\n        margin:0;\r\n        color:#000;\r\n        font-size:16px;\r\n    }\r\n    .topmid>p+p{\r\n        color:#8f8f94;\r\n        font-size:12px;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src\\components\\tpp\\common"}]}