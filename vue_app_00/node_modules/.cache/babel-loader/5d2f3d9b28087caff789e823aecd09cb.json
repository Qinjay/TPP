{"remainingRequest":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\src\\components\\tpp\\common\\cinemaMap.vue?vue&type=script&lang=js","dependencies":[{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\src\\components\\tpp\\common\\cinemaMap.vue","mtime":1561967053982},{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"c:\\xampp\\htdocs\\QBin\\TPP\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { MP } from '../../../map.js';\nexport default {\n  name: \"bdmap\",\n  props: [\"cid\"],\n  data: function data() {\n    return {\n      ak: \"mgHU4gFz1EYGW6TXNLMbLCpoDquGGeat\",\n      screenH: window.innerHeight,\n      ticketList: [],\n      cname: '',\n      mapx: 0,\n      mapy: 0,\n      madd: ''\n    };\n  },\n  created: function created() {\n    var _this2 = this;\n\n    var params = {\n      cid: this.cid\n    };\n    this.axios.get(\"http://127.0.0.1:3000/user/cinemadetail\", {\n      params: params\n    }).then(function (res) {\n      _this2.ticketList = res.data.data[0];\n      _this2.cname = _this2.ticketList.cname;\n      _this2.mapx = _this2.ticketList.mapX;\n      _this2.mapy = _this2.ticketList.mapY;\n      _this2.madd = _this2.ticketList.address; // console.log(this.ticketList)\n    });\n  },\n  mounted: function mounted() {\n    this.$nextTick(function () {\n      var _this3 = this;\n\n      var _this = this;\n\n      MP(_this.ak).then(function (BMap) {\n        var map = new BMap.Map(\"container\");\n        var point = new BMap.Point(_this3.mapx, _this3.mapy);\n        map.centerAndZoom(point, 16);\n        window.map = map;\n        var ctrl_nav = new BMap.NavigationControl(); //缩放控件 \n\n        map.addControl(ctrl_nav);\n        var marker = new BMap.Marker(point); // 创建标注    \n\n        map.addOverlay(marker);\n        var opts = {\n          width: 50,\n          // 信息窗口宽度    \n          height: 10,\n          // 信息窗口高度   \n          title: _this3.cname // 信息窗口标题  \n\n        };\n        var infoWindow = new BMap.InfoWindow(_this3.madd, opts); // 创建信息窗口对象    \n\n        map.openInfoWindow(infoWindow, map.getCenter()); //打开窗口信息  \n      });\n    });\n  },\n  methods: {\n    goback: function goback() {\n      this.$router.go(-1); //window.location.href\n    }\n  }\n};",{"version":3,"sources":["cinemaMap.vue"],"names":[],"mappings":";;;;;;;;;AAUA,SAAA,EAAA,QAAA,iBAAA;AACA,eAAA;AACA,QAAA,OADA;AAEA,SAAA,CAAA,KAAA,CAFA;AAGA,MAHA,kBAGA;AAAA,WAAA;AACA,UAAA,kCADA;AAEA,eAAA,OAAA,WAFA;AAGA,kBAAA,EAHA;AAIA,aAAA,EAJA;AAKA,YAAA,CALA;AAMA,YAAA,CANA;AAOA,YAAA;AAPA,KAAA;AAQA,GAXA;AAYA,SAZA,qBAYA;AAAA;;AACA,QAAA,SAAA;AAAA,WAAA,KAAA;AAAA,KAAA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,yCAAA,EAAA;AAAA;AAAA,KAAA,EAAA,IAAA,CAAA,eAAA;AACA,aAAA,UAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,aAAA,KAAA,GAAA,OAAA,UAAA,CAAA,KAAA;AACA,aAAA,IAAA,GAAA,OAAA,UAAA,CAAA,IAAA;AACA,aAAA,IAAA,GAAA,OAAA,UAAA,CAAA,IAAA;AACA,aAAA,IAAA,GAAA,OAAA,UAAA,CAAA,OAAA,CALA,CAMA;AACA,KAPA;AAQA,GAtBA;AAuBA,SAvBA,qBAuBA;AACA,SAAA,SAAA,CAAA,YAAA;AAAA;;AACA,UAAA,QAAA,IAAA;;AACA,SAAA,MAAA,EAAA,EAAA,IAAA,CAAA,gBAAA;AACA,YAAA,MAAA,IAAA,KAAA,GAAA,CAAA,WAAA,CAAA;AACA,YAAA,QAAA,IAAA,KAAA,KAAA,CAAA,OAAA,IAAA,EAAA,OAAA,IAAA,CAAA;AACA,YAAA,aAAA,CAAA,KAAA,EAAA,EAAA;AACA,eAAA,GAAA,GAAA,GAAA;AACA,YAAA,WAAA,IAAA,KAAA,iBAAA,EAAA,CALA,CAKA;;AACA,YAAA,UAAA,CAAA,QAAA;AACA,YAAA,SAAA,IAAA,KAAA,MAAA,CAAA,KAAA,CAAA,CAPA,CAOA;;AACA,YAAA,UAAA,CAAA,MAAA;AACA,YAAA,OAAA;AACA,iBAAA,EADA;AACA;AACA,kBAAA,EAFA;AAEA;AACA,iBAAA,OAAA,KAHA,CAGA;;AAHA,SAAA;AAKA,YAAA,aAAA,IAAA,KAAA,UAAA,CAAA,OAAA,IAAA,EAAA,IAAA,CAAA,CAdA,CAeA;;AACA,YAAA,cAAA,CAAA,UAAA,EAAA,IAAA,SAAA,EAAA,EAhBA,CAgBA;AACA,OAjBA;AAkBA,KApBA;AAqBA,GA7CA;AA8CA,WAAA;AACA,UADA,oBACA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA,EADA,CAEA;AACA;AAJA;AA9CA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"top\">\r\n             <i class=\"iconfont icon-fanhui\" @click=\"goback\"></i>\r\n            <span>{{cname}}</span>\r\n        </div>\r\n        <div id=\"container\" :style=\"{'height':screenH+'px'}\"></div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {MP} from '../../../map.js'\r\nexport default {\r\n    name:\"bdmap\",\r\n    props:[\"cid\"],\r\n    data(){return{\r\n        ak:\"mgHU4gFz1EYGW6TXNLMbLCpoDquGGeat\",\r\n        screenH:window.innerHeight,\r\n        ticketList:[],\r\n        cname:'',\r\n        mapx:0,\r\n        mapy:0,\r\n        madd:'',\r\n    }},\r\n    created(){\r\n        let params={cid:this.cid}\r\n        this.axios.get(\"http://127.0.0.1:3000/user/cinemadetail\",{params}).then(res=>{\r\n            this.ticketList=res.data.data[0];\r\n            this.cname=this.ticketList.cname;\r\n            this.mapx=this.ticketList.mapX;\r\n            this.mapy=this.ticketList.mapY;\r\n            this.madd=this.ticketList.address;\r\n            // console.log(this.ticketList)\r\n        })\r\n    },\r\n    mounted(){\r\n        this.$nextTick(function(){\r\n            var _this = this;\r\n            MP(_this.ak).then(BMap => {\r\n                var map=new BMap.Map(\"container\");\r\n                var point=new BMap.Point(this.mapx,this.mapy);\r\n                map.centerAndZoom(point,16);\r\n                window.map=map;\r\n                var ctrl_nav = new BMap.NavigationControl();  //缩放控件 \r\n                map.addControl(ctrl_nav);\r\n                var marker = new BMap.Marker(point);        // 创建标注    \r\n                map.addOverlay(marker); \r\n                var opts = {    \r\n                    width : 50,     // 信息窗口宽度    \r\n                    height: 10,     // 信息窗口高度   \r\n                    title : this.cname  // 信息窗口标题  \r\n                } \r\n                var infoWindow = new BMap.InfoWindow(this.madd, opts);  \r\n                // 创建信息窗口对象    \r\n                map.openInfoWindow(infoWindow, map.getCenter());   //打开窗口信息  \r\n            })\r\n        })\r\n    },\r\n    methods:{\r\n        goback(){\r\n            this.$router.go(-1)\r\n            //window.location.href\r\n        }\r\n    }\r\n\r\n\r\n}\r\n</script>\r\n<style>\r\n.BMap_bubble_content{font-size:10px;color:#8f8f94}\r\n.BMap_bubble_title{font-size:15px;}\r\n.top{\r\n    position: fixed;\r\n    top:0;\r\n    left:0;\r\n    width:100%;\r\n    display: flex;\r\n    justify-content:flex-start;\r\n    align-items: center;\r\n    padding:15px;\r\n    font-size:20px;\r\n    background:#fff;\r\n    z-index: 999;\r\n}\r\n.top>i.icon-fanhui{font-size:20px}\r\n.top>span{margin:0 auto;}\r\n    #container{\r\n        width:100%;\r\n        \r\n        /* border:1px solid #f00; */\r\n    }\r\n</style>\r\n\r\n"],"sourceRoot":"src\\components\\tpp\\common"}]}